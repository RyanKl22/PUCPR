<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - Agrosafe</title>
    <link rel="stylesheet" href="login.css">
</head>
<body>
    <div class="login-card">
        <div class="logo-container">
            <img src="images/Logo.png" alt="Logo Agrosafe" class="logo">
        </div>
        <form class="form-login" method="post" action="processa_login.php">
            <input type="text" placeholder="Usuário" id="usuario" name="usuario" required />
            <input type="password" placeholder="Senha" id="senha" name="senha" required />
            <button id="loginButton" type="submit">LOGIN</button>
        </form>
        <div id="error-message" style="color: red;"></div>
    </div>

    <script>
        var loginButton = document.getElementById("loginButton");
        var usuarioInput = document.getElementById("usuario");
        var senhaInput = document.getElementById("senha");
        var errorMessage = document.getElementById("error-message");

        function checkForError() {
            var urlParams = new URLSearchParams(window.location.search);
            if (urlParams.has('erro')) {
                errorMessage.textContent = "Usuário ou senha incorretos.";
            }
        }

        loginButton.addEventListener("click", function(event) {
            // Limpa mensagens de erro existentes
            errorMessage.textContent = "";

            // Valida se o usuário e a senha foram preenchidos
            if (usuarioInput.value === "") {
                errorMessage.textContent = "Por favor, preencha o usuário.";
                return;
            }

            if (senhaInput.value === "") {
                errorMessage.textContent = "Por favor, preencha a senha.";
                return;
            }
        });

        // Verifica se há uma mensagem de erro na URL
        checkForError();
    </script>

</body>
</html>
